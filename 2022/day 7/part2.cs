string input = "$ cd /\r\n$ ls\r\ndir btsgrbd\r\n3868 cprq.fmm\r\ndir gcbpcf\r\ndir hfm\r\n324644 lthcng.gnf\r\n133181 nblfzrb.mrr\r\n140568 sfrbjmmh.jnj\r\ndir tfsh\r\ndir vlsqgrw\r\n202279 vmpgqbcd\r\n$ cd btsgrbd\r\n$ ls\r\ndir cmfdm\r\ndir cqd\r\ndir gvwvs\r\ndir nblfzrb\r\ndir nfm\r\n293979 qwnml.bqn\r\n159220 sdwnsgwv.mjm\r\n327978 vzgwwjq.zbp\r\n155479 zvspnvfr.zbc\r\n$ cd cmfdm\r\n$ ls\r\ndir gldnjj\r\ndir vhf\r\n$ cd gldnjj\r\n$ ls\r\ndir dvght\r\n93750 lwvtzd.pws\r\n176529 sdwnsgwv.mjm\r\n100111 vmpgqbcd\r\n$ cd dvght\r\n$ ls\r\ndir tfbzq\r\n$ cd tfbzq\r\n$ ls\r\n276592 tcghw.srg\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd vhf\r\n$ ls\r\n240217 hfm.rfp\r\ndir nblfzrb\r\n$ cd nblfzrb\r\n$ ls\r\n160378 jhc\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd cqd\r\n$ ls\r\n305358 bnddfgrb\r\ndir dwqncqp\r\ndir hnnfdtbh\r\ndir jhc\r\ndir nblfzrb\r\n327762 scnm.qbf\r\n165080 vmpgqbcd\r\n190041 vzgwwjq.zbp\r\ndir zwv\r\n$ cd dwqncqp\r\n$ ls\r\n122570 slpgmhv\r\n278461 zlnbcwr\r\n$ cd ..\r\n$ cd hnnfdtbh\r\n$ ls\r\n334830 gfprhn.rjj\r\n$ cd ..\r\n$ cd jhc\r\n$ ls\r\n179593 fgb.btb\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir clbcgvhc\r\ndir jhc\r\ndir lsrnz\r\ndir mctd\r\n$ cd clbcgvhc\r\n$ ls\r\n285825 hnn\r\n238272 nblfzrb.wvr\r\n$ cd ..\r\n$ cd jhc\r\n$ ls\r\n99731 nblfzrb.svz\r\n$ cd ..\r\n$ cd lsrnz\r\n$ ls\r\n257843 fsthnpmd\r\n$ cd ..\r\n$ cd mctd\r\n$ ls\r\n278117 zlnbcwr\r\n$ cd ..\r\n$ cd ..\r\n$ cd zwv\r\n$ ls\r\n40349 jhc\r\ndir pqwml\r\n173804 sdwnsgwv.mjm\r\n$ cd pqwml\r\n$ ls\r\n193573 hbzvzwpr\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd gvwvs\r\n$ ls\r\ndir gjslw\r\ndir gwz\r\ndir ljvrjp\r\ndir sltlpb\r\ndir vbsnq\r\n$ cd gjslw\r\n$ ls\r\ndir gzbm\r\n$ cd gzbm\r\n$ ls\r\ndir fst\r\ndir gpjz\r\ndir gzd\r\ndir hfm\r\n$ cd fst\r\n$ ls\r\n99806 mqpg\r\n$ cd ..\r\n$ cd gpjz\r\n$ ls\r\ndir dnsvsp\r\n218828 jhc.dfd\r\n$ cd dnsvsp\r\n$ ls\r\ndir vmdbpwj\r\ndir zvspnvfr\r\n$ cd vmdbpwj\r\n$ ls\r\n258373 jhc\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\n18241 vzgwwjq.zbp\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd gzd\r\n$ ls\r\n20383 chdfwj\r\n63309 prrlv.rvn\r\n$ cd ..\r\n$ cd hfm\r\n$ ls\r\n291753 qhh\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd gwz\r\n$ ls\r\n29042 hfm.hpn\r\n184043 mpc\r\n230539 sdwnsgwv.mjm\r\n803 zlnbcwr\r\n$ cd ..\r\n$ cd ljvrjp\r\n$ ls\r\n44312 pfltqw.zvc\r\n$ cd ..\r\n$ cd sltlpb\r\n$ ls\r\n321945 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd vbsnq\r\n$ ls\r\n7774 twbbg.ftq\r\n109546 zpqbp.cts\r\n$ cd ..\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\n89034 fst\r\n338143 sdwnsgwv.mjm\r\n130661 vmpgqbcd\r\n130071 vrj.zlb\r\n$ cd ..\r\n$ cd nfm\r\n$ ls\r\n327853 fwmfmtt.hdg\r\n151272 vdjs\r\ndir wznwjfw\r\n75692 zlnbcwr\r\n$ cd wznwjfw\r\n$ ls\r\ndir nblfzrb\r\ndir zvspnvfr\r\n$ cd nblfzrb\r\n$ ls\r\n271817 fpqfgs.gdl\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\ndir hfm\r\ndir mdftsf\r\n$ cd hfm\r\n$ ls\r\ndir fsgdq\r\ndir grj\r\n$ cd fsgdq\r\n$ ls\r\n244565 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd grj\r\n$ ls\r\n200989 rdvvrjf.fwz\r\n$ cd ..\r\n$ cd ..\r\n$ cd mdftsf\r\n$ ls\r\ndir fnzztppm\r\n21425 jhc.mtl\r\n$ cd fnzztppm\r\n$ ls\r\n159263 bvf\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd gcbpcf\r\n$ ls\r\n295086 gfprhn.rjj\r\ndir ldwwls\r\ndir nblfzrb\r\ndir zvspnvfr\r\ndir zwv\r\n$ cd ldwwls\r\n$ ls\r\n175977 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir mzshzw\r\n$ cd mzshzw\r\n$ ls\r\ndir mllqf\r\n$ cd mllqf\r\n$ ls\r\n113563 hfm.svt\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\n84524 fst\r\ndir jhc\r\ndir llnqc\r\n126979 nnrwp.shv\r\ndir npjd\r\ndir nptwgdbn\r\n133618 qtn\r\ndir rddftb\r\ndir thfhbhz\r\n129882 vmpgqbcd\r\n170834 zlnbcwr\r\n$ cd jhc\r\n$ ls\r\ndir pjlj\r\ndir tfljr\r\n$ cd pjlj\r\n$ ls\r\ndir jhc\r\n$ cd jhc\r\n$ ls\r\ndir hqzm\r\n$ cd hqzm\r\n$ ls\r\n159505 zlnbcwr\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd tfljr\r\n$ ls\r\ndir dwhjmg\r\n$ cd dwhjmg\r\n$ ls\r\ndir nblfzrb\r\n$ cd nblfzrb\r\n$ ls\r\n194723 ppptz\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd llnqc\r\n$ ls\r\n194898 vzgwwjq.zbp\r\n$ cd ..\r\n$ cd npjd\r\n$ ls\r\ndir blvfljfn\r\ndir dzpplzl\r\n101118 gfprhn.rjj\r\n116164 hbbnl.nvz\r\n211685 hfm\r\ndir jhc\r\ndir mcnftw\r\ndir nblfzrb\r\ndir ncpchrj\r\ndir qrdczsdf\r\n165190 ttbj\r\n190954 vzgwwjq.zbp\r\n$ cd blvfljfn\r\n$ ls\r\n283460 gfprhn.rjj\r\n148100 sqljld\r\n$ cd ..\r\n$ cd dzpplzl\r\n$ ls\r\n62592 jjlvdvq.mqp\r\n$ cd ..\r\n$ cd jhc\r\n$ ls\r\n90578 dvd.wvl\r\n165955 zqplggf\r\n$ cd ..\r\n$ cd mcnftw\r\n$ ls\r\n157908 gbqpdt\r\ndir jsnrcfbv\r\ndir nblfzrb\r\n322169 qlmd.dbq\r\ndir zvspnvfr\r\n$ cd jsnrcfbv\r\n$ ls\r\ndir gffj\r\n75682 hfm\r\ndir pmfwlzn\r\n160494 vzgwwjq.zbp\r\n$ cd gffj\r\n$ ls\r\ndir nblfzrb\r\n9340 pcqs\r\n$ cd nblfzrb\r\n$ ls\r\n216547 sdwnsgwv.mjm\r\n135235 zvspnvfr.nvs\r\n$ cd ..\r\n$ cd ..\r\n$ cd pmfwlzn\r\n$ ls\r\n137069 jbsmwm\r\n$ cd ..\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir hflnbmcd\r\n11899 vzgwwjq.zbp\r\n334607 whmq.ftc\r\n347595 zlnbcwr\r\n$ cd hflnbmcd\r\n$ ls\r\n275968 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\n75213 vmpgqbcd\r\n$ cd ..\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir jhc\r\n$ cd jhc\r\n$ ls\r\ndir jhc\r\n$ cd jhc\r\n$ ls\r\n218236 nblfzrb.mbc\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ncpchrj\r\n$ ls\r\ndir cnswqjjd\r\ndir gvmlgjnj\r\n$ cd cnswqjjd\r\n$ ls\r\n134879 qpzfr\r\n30171 zvspnvfr\r\n$ cd ..\r\n$ cd gvmlgjnj\r\n$ ls\r\n209285 fst\r\n$ cd ..\r\n$ cd ..\r\n$ cd qrdczsdf\r\n$ ls\r\n201094 zlnbcwr\r\n$ cd ..\r\n$ cd ..\r\n$ cd nptwgdbn\r\n$ ls\r\n217555 gfprhn.rjj\r\n66582 mrhhpr.gdg\r\n$ cd ..\r\n$ cd rddftb\r\n$ ls\r\n205347 sdwnsgwv.mjm\r\n195976 vzgwwjq.zbp\r\n$ cd ..\r\n$ cd thfhbhz\r\n$ ls\r\n321628 zlnbcwr\r\n$ cd ..\r\n$ cd ..\r\n$ cd zwv\r\n$ ls\r\ndir lnqb\r\n311249 mtv\r\ndir tnrtjrlz\r\n$ cd lnqb\r\n$ ls\r\ndir vjtnjt\r\n$ cd vjtnjt\r\n$ ls\r\n66715 hfm\r\n$ cd ..\r\n$ cd ..\r\n$ cd tnrtjrlz\r\n$ ls\r\n270833 jhc.vpj\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd hfm\r\n$ ls\r\n220753 fst.tfn\r\ndir hfm\r\n154659 mnzlvc.jzw\r\ndir nblfzrb\r\ndir nrqhstc\r\ndir vwc\r\ndir wlpdphhg\r\ndir zpbh\r\ndir zvspnvfr\r\n160091 zvspnvfr.zqt\r\n$ cd hfm\r\n$ ls\r\ndir fst\r\ndir mfmcqhbz\r\ndir pdblpszb\r\n$ cd fst\r\n$ ls\r\ndir cpll\r\ndir fst\r\ndir nblfzrb\r\ndir sbnplvz\r\ndir vsd\r\n307662 wlzbsdh\r\n194873 zlnbcwr\r\n$ cd cpll\r\n$ ls\r\n13452 pwcmhcf.lwz\r\n$ cd ..\r\n$ cd fst\r\n$ ls\r\ndir nblfzrb\r\ndir rqssg\r\n$ cd nblfzrb\r\n$ ls\r\ndir ltrc\r\ndir nblfzrb\r\n326613 vhwnz\r\n244908 vzgwwjq.zbp\r\n$ cd ltrc\r\n$ ls\r\n163670 zlnbcwr\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir brpzhf\r\n61846 fst\r\n66356 vccrmc.jbd\r\n72767 vmpgqbcd\r\n$ cd brpzhf\r\n$ ls\r\n224488 mttr.szf\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd rqssg\r\n$ ls\r\n131534 bfmhl.cwj\r\n261143 hhznnd\r\ndir nmb\r\n74816 vnmwgflj.rhp\r\n251308 wdzfzcss.fdc\r\n$ cd nmb\r\n$ ls\r\n264421 fst.twf\r\ndir jng\r\n81009 rnt.dlp\r\n288053 sftvd\r\ndir vfc\r\n$ cd jng\r\n$ ls\r\n8014 gfprhn.rjj\r\n168688 ppn.qbv\r\n$ cd ..\r\n$ cd vfc\r\n$ ls\r\ndir bhgstrdl\r\n138108 dggwnqp.fpl\r\n303194 gfprhn.rjj\r\n$ cd bhgstrdl\r\n$ ls\r\n102559 fst.nrv\r\n269697 trqrlrw.jmc\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir bcj\r\ndir cqjmmr\r\n256392 fst.tjf\r\n7079 gfprhn.rjj\r\ndir gqm\r\ndir hbqfms\r\ndir nmgbfhmq\r\n57962 pvdtbdj\r\n117035 sdwnsgwv.mjm\r\n64208 zlnbcwr\r\n$ cd bcj\r\n$ ls\r\ndir nblfzrb\r\n$ cd nblfzrb\r\n$ ls\r\n149417 zvspnvfr.dqv\r\n$ cd ..\r\n$ cd ..\r\n$ cd cqjmmr\r\n$ ls\r\n147054 fcq.mmz\r\ndir fst\r\ndir hfm\r\n110840 jcsjjj.mvg\r\n75746 vzgwwjq.zbp\r\n333085 zlnbcwr\r\n$ cd fst\r\n$ ls\r\n114747 vmpgqbcd\r\n$ cd ..\r\n$ cd hfm\r\n$ ls\r\ndir nvvppmls\r\ndir phpq\r\ndir rld\r\n$ cd nvvppmls\r\n$ ls\r\ndir cdsmgjdb\r\n$ cd cdsmgjdb\r\n$ ls\r\n158739 hfm.nmw\r\n$ cd ..\r\n$ cd ..\r\n$ cd phpq\r\n$ ls\r\n274026 hfm.hjj\r\n$ cd ..\r\n$ cd rld\r\n$ ls\r\n237915 hsnngd.tqw\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd gqm\r\n$ ls\r\n188469 vzgwwjq.zbp\r\n$ cd ..\r\n$ cd hbqfms\r\n$ ls\r\n127163 fst\r\n$ cd ..\r\n$ cd nmgbfhmq\r\n$ ls\r\n257647 gczqzbbd\r\ndir hfm\r\ndir zvspnvfr\r\n$ cd hfm\r\n$ ls\r\n267774 gbtwdctn.drw\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\n189769 gfprhn.rjj\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd sbnplvz\r\n$ ls\r\ndir bln\r\ndir fst\r\ndir hdv\r\ndir jhc\r\n31790 jhc.zvm\r\n102276 mmmjpp\r\ndir zdwzgnb\r\n$ cd bln\r\n$ ls\r\n161029 zlnbcwr\r\n$ cd ..\r\n$ cd fst\r\n$ ls\r\n333565 fst\r\n$ cd ..\r\n$ cd hdv\r\n$ ls\r\ndir zvpp\r\n$ cd zvpp\r\n$ ls\r\n143723 gfprhn.rjj\r\n$ cd ..\r\n$ cd ..\r\n$ cd jhc\r\n$ ls\r\ndir hfm\r\ndir hnqpwnfb\r\ndir jqgfcmjn\r\ndir mqj\r\n312345 psdd.ftf\r\ndir slsq\r\n319904 thvhdmm.rpq\r\n317429 vzgwwjq.zbp\r\n$ cd hfm\r\n$ ls\r\n249321 bwzrcghg.zwq\r\n38324 zlnbcwr\r\n149647 zvspnvfr.jwn\r\n$ cd ..\r\n$ cd hnqpwnfb\r\n$ ls\r\n113118 bdmtgt\r\n299110 bthznc.bjt\r\n$ cd ..\r\n$ cd jqgfcmjn\r\n$ ls\r\n176495 hfm.wnw\r\n333817 mqds\r\n208755 vqsmz.cbd\r\n298875 zltfds\r\n$ cd ..\r\n$ cd mqj\r\n$ ls\r\n186649 brfmpbwn\r\n43322 cgdhzzl.bvg\r\n56230 zlnbcwr\r\n$ cd ..\r\n$ cd slsq\r\n$ ls\r\ndir dtsg\r\n343453 rjgvt.sgc\r\n313784 vmpgqbcd\r\n$ cd dtsg\r\n$ ls\r\n308070 zvspnvfr.dqq\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd zdwzgnb\r\n$ ls\r\ndir zvspnvfr\r\n$ cd zvspnvfr\r\n$ ls\r\n278754 glqszhnp\r\n199713 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd vsd\r\n$ ls\r\n17978 fdrg.cft\r\n320284 sdwnsgwv.mjm\r\n230059 tpfmtww.jbs\r\n168301 vmpgqbcd\r\n$ cd ..\r\n$ cd ..\r\n$ cd mfmcqhbz\r\n$ ls\r\ndir fst\r\ndir lwlsnt\r\ndir mqqdst\r\n$ cd fst\r\n$ ls\r\ndir cln\r\n235621 hfm.mhr\r\n4347 qwfwj\r\n226297 zlnbcwr\r\n$ cd cln\r\n$ ls\r\ndir cfz\r\ndir njptzz\r\ndir rcbps\r\n161994 rjl.pfg\r\ndir tcqttb\r\n22809 vmpgqbcd\r\n225782 zvspnvfr.gbw\r\n$ cd cfz\r\n$ ls\r\n168184 zvspnvfr\r\n$ cd ..\r\n$ cd njptzz\r\n$ ls\r\n286155 hfm.mjh\r\n$ cd ..\r\n$ cd rcbps\r\n$ ls\r\n256675 vzgwwjq.zbp\r\n$ cd ..\r\n$ cd tcqttb\r\n$ ls\r\n91505 flmgglv.gjw\r\n270377 ftbjzt.lcm\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd lwlsnt\r\n$ ls\r\ndir ztrcwjw\r\n$ cd ztrcwjw\r\n$ ls\r\n342059 vjcldgfj.twb\r\n$ cd ..\r\n$ cd ..\r\n$ cd mqqdst\r\n$ ls\r\n326143 dhlhzzj.sbh\r\ndir lmsbg\r\n13108 nblfzrb.nnr\r\n256325 vzgwwjq.zbp\r\n146133 zlnbcwr\r\n$ cd lmsbg\r\n$ ls\r\n282223 zvspnvfr.zwq\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd pdblpszb\r\n$ ls\r\n167164 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\n161555 zlnbcwr\r\n$ cd ..\r\n$ cd nrqhstc\r\n$ ls\r\n316797 gfprhn.rjj\r\n263838 nblfzrb.cjr\r\ndir pppmp\r\ndir shcwlggz\r\n$ cd pppmp\r\n$ ls\r\ndir fst\r\n328237 gfprhn.rjj\r\n288094 hzv.prf\r\n260275 pcnhmmw\r\n214496 pptjlrn.pls\r\ndir tqjgrc\r\n315647 vmbvl.zvh\r\n$ cd fst\r\n$ ls\r\n4441 dtt\r\n115073 jhdqj.tpt\r\n337681 zlnbcwr\r\n$ cd ..\r\n$ cd tqjgrc\r\n$ ls\r\n6491 zlnbcwr\r\n$ cd ..\r\n$ cd ..\r\n$ cd shcwlggz\r\n$ ls\r\n251509 gfprhn.rjj\r\n331578 slsnbzm\r\n158534 wlchqtzj.ljz\r\n341686 wmdvjs.tjb\r\n$ cd ..\r\n$ cd ..\r\n$ cd vwc\r\n$ ls\r\n94599 gfprhn.rjj\r\n298110 hql.hss\r\ndir rsrfc\r\n230201 vmpgqbcd\r\ndir zcsqst\r\ndir zrz\r\n58810 zvspnvfr\r\n$ cd rsrfc\r\n$ ls\r\ndir fst\r\n$ cd fst\r\n$ ls\r\n259462 bflpjwd.wbj\r\n177686 cvh.fnr\r\n$ cd ..\r\n$ cd ..\r\n$ cd zcsqst\r\n$ ls\r\n344114 bbbd.ncl\r\n282111 gfprhn.rjj\r\n327171 jhc\r\n43867 qwzwmffq.chl\r\n$ cd ..\r\n$ cd zrz\r\n$ ls\r\ndir zvspnvfr\r\n$ cd zvspnvfr\r\n$ ls\r\ndir fst\r\n$ cd fst\r\n$ ls\r\n218902 fst.jmg\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd wlpdphhg\r\n$ ls\r\ndir lllph\r\n41390 wmn\r\n$ cd lllph\r\n$ ls\r\n167740 bbfqftlg.pll\r\n$ cd ..\r\n$ cd ..\r\n$ cd zpbh\r\n$ ls\r\n63568 jhc.tfs\r\ndir nblfzrb\r\ndir rlsvrfrb\r\n29977 vzgwwjq.zbp\r\ndir zvspnvfr\r\n$ cd nblfzrb\r\n$ ls\r\n154990 gbvpw.bpm\r\ndir hfm\r\n148488 jhc\r\n301795 jhc.zlg\r\ndir nblfzrb\r\n115285 rvhcfsrw.crj\r\n320034 wsqdt\r\n$ cd hfm\r\n$ ls\r\n141530 vmpgqbcd\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\ndir rnhn\r\n$ cd rnhn\r\n$ ls\r\n46251 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd rlsvrfrb\r\n$ ls\r\n140923 hfm\r\n228981 zvspnvfr.mvl\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\n182280 gnhh.hpw\r\n95206 vvlt.pgf\r\n$ cd ..\r\n$ cd ..\r\n$ cd zvspnvfr\r\n$ ls\r\n234551 wsfjhlqc.zsj\r\n$ cd ..\r\n$ cd ..\r\n$ cd tfsh\r\n$ ls\r\ndir fbrqvwgr\r\n$ cd fbrqvwgr\r\n$ ls\r\n244821 nrhm\r\n$ cd ..\r\n$ cd ..\r\n$ cd vlsqgrw\r\n$ ls\r\ndir dzdd\r\n18805 fst.rjm\r\n50694 gfprhn.rjj\r\n55025 jlnrm\r\ndir pnsbfz\r\ndir qjjjgd\r\ndir whrtnh\r\n28406 zggjjcct.fsz\r\n$ cd dzdd\r\n$ ls\r\ndir hjmv\r\n$ cd hjmv\r\n$ ls\r\n91558 hfm.qcd\r\n$ cd ..\r\n$ cd ..\r\n$ cd pnsbfz\r\n$ ls\r\ndir bmgmh\r\ndir nblfzrb\r\ndir zvfg\r\n$ cd bmgmh\r\n$ ls\r\ndir dvh\r\ndir mwfbthpj\r\ndir swqbph\r\n$ cd dvh\r\n$ ls\r\ndir jhc\r\ndir jtp\r\n85638 rzlt.llb\r\n$ cd jhc\r\n$ ls\r\ndir dltqbnpq\r\n$ cd dltqbnpq\r\n$ ls\r\n133426 zlnbcwr\r\n$ cd ..\r\n$ cd ..\r\n$ cd jtp\r\n$ ls\r\ndir clh\r\n$ cd clh\r\n$ ls\r\n54117 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd mwfbthpj\r\n$ ls\r\n75900 zwslwbr.chm\r\n$ cd ..\r\n$ cd swqbph\r\n$ ls\r\n307258 jrlljc.ntl\r\n$ cd ..\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\n106071 zdjg.qsj\r\n$ cd ..\r\n$ cd zvfg\r\n$ ls\r\n311338 zvspnvfr.dqj\r\n$ cd ..\r\n$ cd ..\r\n$ cd qjjjgd\r\n$ ls\r\ndir cdmwgn\r\ndir fqmln\r\n285733 gfprhn.rjj\r\ndir gswsc\r\ndir htpzdb\r\n261929 jwc\r\ndir lvzpqqv\r\ndir mlc\r\ndir mzbpmhf\r\n329303 sdwnsgwv.mjm\r\n76120 vmpgqbcd\r\n$ cd cdmwgn\r\n$ ls\r\ndir bttff\r\n$ cd bttff\r\n$ ls\r\ndir nblfzrb\r\n$ cd nblfzrb\r\n$ ls\r\n346048 jhc.hzf\r\ndir nccq\r\ndir rwtddj\r\n149890 sdwnsgwv.mjm\r\n$ cd nccq\r\n$ ls\r\n141144 gfprhn.rjj\r\n65628 hfm\r\n$ cd ..\r\n$ cd rwtddj\r\n$ ls\r\ndir jctw\r\n$ cd jctw\r\n$ ls\r\n141075 thcfz.frn\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd ..\r\n$ cd fqmln\r\n$ ls\r\n282233 cjgh\r\n$ cd ..\r\n$ cd gswsc\r\n$ ls\r\n153758 ccjg.zml\r\ndir cllgt\r\n257967 ctqdpq.clq\r\n117673 jhc\r\n258604 wqcz.tww\r\n122135 zvspnvfr.grb\r\n$ cd cllgt\r\n$ ls\r\n132862 vmpgqbcd\r\n$ cd ..\r\n$ cd ..\r\n$ cd htpzdb\r\n$ ls\r\ndir hfm\r\ndir mlplp\r\n231759 nblfzrb\r\n159823 pqpbjbqp\r\n25382 vzgwwjq.zbp\r\n$ cd hfm\r\n$ ls\r\n155413 bbbsd\r\n288638 jhhmwq\r\ndir lnss\r\n$ cd lnss\r\n$ ls\r\n341786 zvspnvfr\r\n$ cd ..\r\n$ cd ..\r\n$ cd mlplp\r\n$ ls\r\n256802 zhcq.gzj\r\n$ cd ..\r\n$ cd ..\r\n$ cd lvzpqqv\r\n$ ls\r\ndir cgj\r\ndir mdb\r\ndir shpdtb\r\n$ cd cgj\r\n$ ls\r\n74595 nblfzrb.lcc\r\n$ cd ..\r\n$ cd mdb\r\n$ ls\r\n167891 zvspnvfr.ldc\r\n$ cd ..\r\n$ cd shpdtb\r\n$ ls\r\n45889 bvff.hsf\r\n92447 sdwnsgwv.mjm\r\n$ cd ..\r\n$ cd ..\r\n$ cd mlc\r\n$ ls\r\n7978 mrblf\r\n$ cd ..\r\n$ cd mzbpmhf\r\n$ ls\r\n38713 jhbs\r\n$ cd ..\r\n$ cd ..\r\n$ cd whrtnh\r\n$ ls\r\ndir jbbwzd\r\ndir nblfzrb\r\n$ cd jbbwzd\r\n$ ls\r\n88613 jhc.qqw\r\n$ cd ..\r\n$ cd nblfzrb\r\n$ ls\r\n164792 zlnbcwr";

var lines = input.Split(new string[] { "\r\n", "\r", "\n" }, StringSplitOptions.None);

var root = new Directory();
Directory currentDirectory = root;

foreach (var line in lines)
{
    if (line.StartsWith("$ cd")) //commands
    {
        var targetDirectory = line.Substring(line.LastIndexOf(" ") + 1);
        if (targetDirectory == "/")
        {
            currentDirectory = root;
        }
        else if (targetDirectory == "..")
        {
            currentDirectory = currentDirectory.Parent;
        }
        else
        {
            currentDirectory = currentDirectory.Directories.Where(x => x.Name == targetDirectory).First();
        }
    }
    else if (line.StartsWith('d')) //directory declaration
    {
        var dirName = line.Substring(line.IndexOf(" ") + 1);
        var newDirectory = new Directory() { Parent = currentDirectory, Name = dirName };
        if (currentDirectory.Directories.Where(x => x.Name == dirName).Count() > 0)
        {
            Console.WriteLine("Sub Directory with the name {0} already exists", dirName);
        }
        currentDirectory.Directories.Add(newDirectory);
    }
    else // files
    {
        if (line.StartsWith("$ ls"))
        {
            continue;
        }
        int size = int.Parse(line.Substring(0, line.IndexOf(" ")));
        currentDirectory.Files.Add(size);
    }
}

List<int> sizes = new();

void AddUpSizes(Directory directory)
{
    int size = directory.GetSize();
    sizes.Add(size);
    foreach (var subDir in directory.Directories)
    {
        AddUpSizes(subDir);
    }
}

AddUpSizes(root);
int usedSpace = root.GetSize();
int totalSpace = 70000000;
int requiredSpace = 30000000;
sizes.Sort();
for (int i = 0; i < sizes.Count; i++)
{
    if ((totalSpace - usedSpace + sizes[i]) > requiredSpace)
    {
        Console.WriteLine("Directory Found: {0}", sizes[i]);
        break;
    }
}

class Directory
{
    public Directory Parent { get; set; }
    public string Name { get; set; }
    public List<int> Files { get; set; } = new List<int>();
    public List<Directory> Directories { get; set; } = new List<Directory>();
    public int GetSize()
    {
        int sum = 0;
        sum += Files.Sum();
        foreach (var directory in Directories)
        {
            sum += directory.GetSize();
        }
        return sum;
    }
}
